---
import ProductCard from '../components/ProductCard.astro';
import Hero from '../components/Hero.astro';
import '../styles/global.css';

// Hardcoded product data
const products = [
  {
    id: 1,
    name: 'BRISCO — Be Your Own Light (White)',
    price: 80,
    frontImg: '/images/fatlil.2_1755650727_3702989146314406154_305151088.jpg',
    backImg: '/images/fatlil.2_1755650727_3702989146314371580_305151088.jpg',
    desc: 'Oversized premium tee with BRISCO torch motif. A clean white canvas with a message: be your own light. Small-batch release.'
  },
  {
    id: 2,
    name: 'BRISCO — Be Your Own Light (Black)',
    price: 90,
    frontImg: '/images/fatlil.2_1755650727_3702989146557587913_305151088.jpg',
    backImg: '/images/fatlil.2_1755650727_3702989146440085811_305151088.jpg',
    desc: 'Premium oversized tee in blackout with bold empowerment typography. Limited run — once gone, it\'s gone.'
  }
];

const siteTitle = 'Brisco Exclusive Access - Be Your Own Light | Gothic Luxury Streetwear';
const siteDescription = 'Brisco Exclusive Access: Limited drops coming August 2025. Gothic luxury streetwear meets urban rebellion. Be your own light.';
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Brisco Exclusive Access - Be Your Own Light | Gothic Luxury Streetwear</title>
  <meta name="description" content="Brisco Exclusive Access: Limited drops coming August 2025. Gothic luxury streetwear meets urban rebellion. Be your own light.">
  
  <!-- SEO Meta Tags -->
  <meta name="keywords" content="streetwear, fashion, gothic, luxury, Khalil Brisco, Brisco, urban wear, limited edition, torch, flame, be your own light, edgy minimalism">
  <meta name="author" content="Khalil Brisco">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://brisco-streetwear.netlify.app">
  
  <!-- Open Graph / Social Media -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://brisco-streetwear.netlify.app">
  <meta property="og:title" content="Brisco Exclusive Access - Limited Drops Coming August 2025">
  <meta property="og:description" content="Exclusive access to Brisco streetwear drops. Gothic luxury meets urban rebellion. Be your own light.">
  <meta property="og:image" content="/Untitled design (4).png">
  <meta property="og:site_name" content="Brisco Streetwear">
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://brisco-streetwear.netlify.app">
  <meta name="twitter:title" content="Brisco Exclusive Access - Limited Drops Coming August 2025">
  <meta name="twitter:description" content="Exclusive access to Brisco streetwear drops. Gothic luxury meets urban rebellion. Be your own light.">
  <meta name="twitter:image" content="/Untitled design (4).png">
  <meta name="twitter:creator" content="@khalilbrisco8">
  
  <!-- Comprehensive Favicon Implementation -->
  <link rel="icon" type="image/x-icon" href="/favicons/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/favicons/android-chrome-192x192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="/favicons/android-chrome-512x512.png">
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#000000">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Brisco">
  
  <!-- Windows Tile -->
  <meta name="msapplication-TileColor" content="#000000">
  <meta name="msapplication-TileImage" content="/favicons/android-chrome-192x192.png">
  
  <!-- Preload Critical Resources -->
  <link rel="preload" href="/favicons/favicon.ico" as="image">
  <link rel="preload" href="/favicons/favicon-32x32.png" as="image">
  <link rel="preload" href="/Untitled design (4).png" as="image">
  
  <!-- Schema.org JSON-LD -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Brisco Streetwear",
      "url": "https://brisco-streetwear.netlify.app",
      "logo": "https://brisco-streetwear.netlify.app/Untitled design (4).png",
      "sameAs": [
        "https://instagram.com/khalilbrisco8"
      ],
      "founder": {
        "@type": "Person",
        "name": "Khalil Brisco"
      },
      "description": "High-fashion streetwear brand combining gothic luxury with urban edge"
    }
  </script>
</head>

<body>
  <!-- Refined Hyper-Minimalistic Teaser Gate -->
  <div id="teaser-gate" class="refined-gate">
    <div class="refined-gate-content">
      <!-- Brisco Logo with Flame Flicker -->
      <img src="/Untitled design (4).png" alt="Brisco" class="refined-logo" aria-label="Brisco logo" />
      
      <!-- Brisco Brand Text -->
      <h1 class="refined-brand-text">Brisco.</h1>
      
      <!-- Subtitle -->
      <p class="refined-subtitle">Sign up for exclusive access to drops</p>
      
      <!-- Email Signup -->
      <div class="refined-email-section">
        <input 
          type="email" 
          placeholder="Your email" 
          class="refined-email-input"
          id="teaser-email"
          aria-label="Email address for exclusive access"
        />
        <button class="refined-btn refined-btn-subscribe" id="teaser-email-btn">
          SUBSCRIBE
        </button>
      </div>
      
      <!-- Password Entry -->
      <div class="refined-password-section">
        <input 
          type="password" 
          placeholder="Enter using password" 
          class="refined-password-input"
          id="teaser-password"
          aria-label="Password for immediate access"
        />
        <button class="refined-btn refined-btn-enter" id="teaser-password-btn">
          ENTER
        </button>
      </div>
    </div>
  </div>

  <!-- Store Content (Hidden by default) -->
  <div id="store-content" class="store-content" style="display: none;">
    <!-- Torch Cart Icon -->
    <button class="cart-icon torch-cart" aria-label="View shopping cart">
      <svg class="torch-icon" viewBox="0 0 24 32" fill="currentColor">
        <path d="M12 2 Q10 4 11 8 Q9 12 10.5 16 Q9 20 12 28 Q15 20 13.5 16 Q15 12 13 8 Q14 4 12 2 Z" />
        <circle cx="12" cy="30" r="1.5" />
      </svg>
      <span class="cart-count">0</span>
    </button>

    <!-- Cart Flyout Drawer -->
    <div class="cart-drawer" id="cart-drawer">
      <div class="cart-drawer-content">
        <div class="cart-header">
          <h3>Your Cart</h3>
          <button class="cart-close" aria-label="Close cart">&times;</button>
        </div>
        <div class="cart-items" id="cart-items">
          <!-- Cart items will be populated by JavaScript -->
        </div>
        <div class="cart-footer">
          <div class="cart-total">
            <span>Total: $<span id="cart-total">0.00</span></span>
          </div>
          <button class="btn btn-primary cart-checkout" id="cart-checkout">
            <!-- GHL Integration: Sync cart with GoHighLevel funnels for minimal checkout -->
            Checkout
          </button>
        </div>
      </div>
    </div>

    <!-- Cart Overlay -->
    <div class="cart-overlay" id="cart-overlay"></div>

    <!-- Enhanced Hero Section -->
    <Hero />

    <!-- Products Section -->
    <section class="products" id="products">
      <div class="container">
        <h2 style="text-align: center; font-size: 2.5rem; margin-bottom: 2rem; font-weight: 300;">
          BRISCO — "Be Your Own Light" Capsule
        </h2>
        
        <div class="product-grid">
          {products.map((product) => (
            <ProductCard {...product} />
          ))}
        </div>
      </div>
    </section>

    <!-- About Section -->
    <section class="about" id="about">
      <div class="container">
        <div class="about-content">
          <h2>The Vision</h2>
          <p>
            Brisco: High-fashion streetwear by Khalil Brisco. 
            Born from the intersection of gothic luxury and urban rebellion, 
            each piece embodies the philosophy of being your own light in the darkness. 
            Be the risk, be your own light.
          </p>
          <p style="margin-top: 1.5rem; font-style: italic;">
            "In a world of followers, dare to illuminate your own path."
          </p>
        </div>
      </div>
    </section>

    <!-- Minimal Footer -->
    <footer class="footer" id="contact">
      <div class="container">
        <div class="footer-content">
          <div class="footer-brand">
            <h3>Brisco.</h3>
          </div>
          
          <div class="footer-newsletter">
            <div class="email-signup">
              <input 
                type="email" 
                placeholder="Your email" 
                class="email-input"
                id="email-signup"
                aria-label="Email address for newsletter signup"
              />
              <button class="btn btn-primary" id="signup-btn">
                SUBSCRIBE
              </button>
            </div>
          </div>
          
          <div class="footer-social">
            <a href="https://instagram.com/fatlil.2" class="social-link" target="_blank" rel="noopener noreferrer">
              @fatlil.2
            </a>
          </div>
        </div>
      </div>
    </footer>
  </div> <!-- End store-content -->

  <!-- Scripts -->
  <script is:inline src="/cart.js"></script>
  <script is:inline src="/password.js"></script>
  
  <!-- Service Worker Registration for PWA -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js')
        .then((registration) => {
          console.log('[Brisco] Service Worker registered:', registration);
        })
        .catch((error) => {
          console.log('[Brisco] Service Worker registration failed:', error);
        });
    }
  </script>
  
  <!-- Minimal Analytics -->
  <script>
    // GHL Integration: Track page views
    // Example: ghl('init', 'GHL_ACCOUNT_ID');
    console.log('[Brisco] Minimal gate loaded');
  </script>
  
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Footer email signup functionality
      const signupBtn = document.getElementById('signup-btn');
      const emailInput = document.getElementById('email-signup');
      
      if (signupBtn && emailInput) {
        signupBtn.addEventListener('click', () => {
          const email = (emailInput as HTMLInputElement).value.trim();
          
          if (!email) {
            alert('Please enter your email address');
            return;
          }
          
          if (!isValidEmail(email)) {
            alert('Please enter a valid email address');
            return;
          }
          
          // GHL API Integration: Send email to GoHighLevel
          // Example: await fetch('/api/ghl/subscribe', { method: 'POST', body: { email } })
          
          alert('Thanks for subscribing! You\'ll be the first to know about new drops.');
          (emailInput as HTMLInputElement).value = '';
        });
        
        emailInput.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') {
            signupBtn.click();
          }
        });
      }
    });
    
    // Email validation helper
    function isValidEmail(email) {
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return emailRegex.test(email);
    }
  </script>
</body>
</html>
